/* ============================================================================
   FONT FIX - Geist Font Loading with Proper Fallbacks
   Professional-grade font loading with CDN fallbacks
   Version: 1.0
   ============================================================================ */

/* Import Geist fonts from Google Fonts API */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');

/* Geist Sans Fallback Implementation */
@font-face {
    font-family: 'Geist Sans';
    font-style: normal;
    font-weight: 300;
    font-display: swap;
    src: local('Inter Light'), local('SF Pro Display Light'), local('Helvetica Neue Light'), 
         local('Arial'), local('sans-serif');
}

@font-face {
    font-family: 'Geist Sans';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: local('Inter'), local('SF Pro Display'), local('Helvetica Neue'), 
         local('Arial'), local('sans-serif');
}

@font-face {
    font-family: 'Geist Sans';
    font-style: normal;
    font-weight: 500;
    font-display: swap;
    src: local('Inter Medium'), local('SF Pro Display Medium'), local('Helvetica Neue Medium'), 
         local('Arial'), local('sans-serif');
}

@font-face {
    font-family: 'Geist Sans';
    font-style: normal;
    font-weight: 600;
    font-display: swap;
    src: local('Inter SemiBold'), local('SF Pro Display Semibold'), local('Helvetica Neue Bold'), 
         local('Arial Bold'), local('sans-serif');
}

/* Geist Mono Fallback Implementation */
@font-face {
    font-family: 'Geist Mono';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: local('SF Mono'), local('Monaco'), local('Cascadia Code'), local('Roboto Mono'), 
         local('Courier New'), local('monospace');
}

@font-face {
    font-family: 'Geist Mono';
    font-style: normal;
    font-weight: 500;
    font-display: swap;
    src: local('SF Mono Medium'), local('Monaco'), local('Cascadia Code SemiBold'), 
         local('Roboto Mono Medium'), local('Courier New'), local('monospace');
}

/* Enhanced CSS Variables with Comprehensive Font Stack */
:root {
    /* Font stacks with multiple fallbacks for maximum compatibility */
    --font-sans: 'Geist Sans', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                 'Roboto', 'Helvetica Neue', 'Arial', system-ui, sans-serif;
    
    --font-mono: 'Geist Mono', 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', 
                 'Courier New', 'Consolas', 'Liberation Mono', 'Menlo', monospace;
    
    /* System font stacks for critical fallbacks */
    --font-system-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                        'Roboto', 'Helvetica Neue', 'Arial', sans-serif;
    
    --font-system-mono: 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', 
                        'Courier New', 'Consolas', 'Liberation Mono', monospace;
}

/* Font Loading States */
.font-loading {
    font-family: var(--font-system-sans);
    opacity: 0.8;
}

.font-loaded {
    font-family: var(--font-sans);
    opacity: 1;
    transition: opacity 0.2s ease-in-out;
}

/* Font Display Optimization */
.optimize-text {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* Responsive Font Sizes */
@media screen and (max-width: 640px) {
    :root {
        --font-size-4xl: 1.875rem; /* 30px */
        --font-size-3xl: 1.5rem;   /* 24px */
        --font-size-2xl: 1.25rem;  /* 20px */
        --font-size-xl: 1.125rem;  /* 18px */
    }
}

@media screen and (prefers-reduced-motion: reduce) {
    .font-loaded {
        transition: none;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    :root {
        --font-weight-normal: 500;
        --font-weight-medium: 600;
    }
}

/* Print styles */
@media print {
    * {
        font-family: var(--font-system-sans) !important;
    }
    
    code, pre, .mono {
        font-family: var(--font-system-mono) !important;
    }
}