/* styles.css */
/* Geist from Google Fonts (Sans + Mono) */
@import url('https://fonts.googleapis.com/css2?family=Geist:wght@100..900&family=Geist+Mono:wght@100..900&display=swap');

:root{
  --bg:#fff;
  --fg:#111;
  --sub:#555;
  --muted:#999;
  --line:#e5e5e5;
  --accent:#000;
  --mono:'Geist Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --sans:'Geist', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family:var(--sans);
  line-height:1.45;
}

.topbar{
  display:flex; align-items:center; gap:12px;
  padding:12px 16px; border-bottom:1px solid var(--line);
}
.brand{font-weight:600; letter-spacing:.2px}
.spacer{flex:1}
.icon-btn{
  border:1px solid var(--line);
  background:#fff; color:var(--fg);
  width:36px; height:28px; font:inherit; cursor:pointer;
}

.layout{
  display:grid;
  grid-template-columns: 320px minmax(0,1fr) 420px;
  gap:1px; background:var(--line);
  height:calc(100vh - 53px);
}
.panel{
  background:var(--bg);
  overflow:auto;
}
.left, .right{padding:16px}
.center{display:flex; flex-direction:column; min-width:0; background:var(--bg)}

.block + .block{margin-top:20px}
h2{font-size:14px; font-weight:600; margin:0 0 12px}
h3{font-size:12px; font-weight:600; margin:16px 0 8px; color:var(--sub)}
.divider{height:1px; background:var(--line); margin:12px 0}

.kv{
  display:grid; grid-template-columns:1fr auto; gap:6px 12px;
  font-size:12px; color:var(--sub);
}
.list{display:flex; flex-direction:column; gap:8px}
.memory-item{
  border:1px solid var(--line); padding:8px; font-size:12px;
}
.controls{display:flex; gap:8px; margin-top:8px}
.controls.end{justify-content:flex-end}

.btn{
  border:1px solid var(--line);
  background:#fff; color:#111; padding:8px 10px; cursor:pointer;
}
.btn.primary{
  background:#000; color:#fff; border-color:#000;
}

.messages{
  flex:1; overflow:auto; padding:16px;
  display:flex; flex-direction:column; gap:16px;
}
.msg{
  display:grid; grid-template-columns:72px 1fr; gap:12px;
}
.msg .role{color:var(--sub); font-size:12px}
.msg .bubble{
  border:1px solid var(--line);
  padding:12px; white-space:pre-wrap; word-wrap:break-word;
}
.msg.assistant .bubble{background:#fafafa}

.composer{
  display:grid; grid-template-columns:1fr auto; gap:8px;
  padding:12px; border-top:1px solid var(--line);
}
#prompt{
  width:100%; resize:none; min-height:40px; max-height:160px;
  border:1px solid var(--line); padding:10px; font:inherit;
}
.mono{font-family:var(--mono)}
.code{min-height:120px}
.output{background:#fafafa; padding:8px; border:1px solid var(--line); min-height:60px}

.tools-log, .trace{
  border:1px solid var(--line); background:#fafafa; padding:8px; font-size:12px;
  max-height:220px; overflow:auto;
}
.hidden{display:none}

.canvas{width:100%; height:auto; border:1px solid var(--line); background:#fff}

dialog#settings{
  border:1px solid var(--line); padding:0; width:520px;
}
.settings-form{padding:16px; display:flex; flex-direction:column; gap:10px}
.settings-form input, .settings-form textarea{
  border:1px solid var(--line); padding:8px; font:inherit; width:100%;
}

@media (max-width:1200px){
  .layout{grid-template-columns: 280px 1fr}
  .panel.right{display:none}
}
@media (max-width:900px){
  .layout{grid-template-columns:1fr}
  .panel.left{display:none}
}
